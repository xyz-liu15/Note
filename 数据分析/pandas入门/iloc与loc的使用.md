在Python的pandas库中，`loc`和`iloc`都是用于DataFrame和Series数据选取的方法，但它们在索引方式和适用场景上存在核心差异：

### 📌 核心区别
1. **索引逻辑不同**：
   - `loc`基于**标签索引**（行/列的名称），例如通过行名`"row_label"`或列名`"col_label"`选取数据 [2][4][6][8][12][20]。
   - `iloc`基于**整数位置索引**（0起始的整数位置），例如通过位置序号`0`选取第一行 [5][6][7][8][11][16]。

2. **切片范围不同**：
   - `loc`切片为**闭区间**（包含起始和结束标签），如`df.loc["A":"C"]`会选取标签A到C的所有行 [9][14]。
   - `iloc`切片为**左闭右开区间**（Python标准切片），如`df.iloc[0:3]`仅选取位置0、1、2的行 [9][14][16]。

### ⚙️ 使用方法
#### 1. `loc`的典型用法
- 按行/列标签选取：
  ```python
  df.loc["row_label"]                # 选取单行 [2][4]
  df.loc[:, "col_label"]             # 选取单列 [4][13]
  df.loc["row1":"row2", "col1":"col2"]  # 按标签切片（含边界）[3][9][14]
  ```
- 支持混合索引：可同时使用标签和布尔数组 [3][15]，如：
  ```python
  df.loc[df["age"] > 30, "name"]     # 筛选age>30的name列 [15]
  ```

#### 2. `iloc`的典型用法
- 按整数位置选取：
  ```python
  df.iloc[0]            # 选取第一行 [5][7][11]
  df.iloc[[0, 2]]       # 选取第1行和第3行 [7][11]
  df.iloc[0:3, 1:4]     # 选取前3行、2-4列（不含第4列）[9][14][16]
  ```
- **仅支持整数索引**：无法使用标签（如`"col_name"`）或非整数切片 [3][10][11]。

### ⚠️ 注意事项
- `loc`不能使用不存在的标签或非法索引（如`-1`），否则报错 [3][8]。
- `iloc`忽略行/列的实际标签，始终按数据存储的物理顺序选取 [8][16]。
- 两者均可用于赋值操作，例如：
  ```python
  df.loc["row1", "col1"] = 100   # 修改标签对应的值 [4][20]
  df.iloc[0, 1] = 100            # 修改位置(0,1)的值 [7][11]
  ```

### 💎 总结建议
- **优先用`loc`**：当数据有明确的行/列名称时，可读性更强 [3][4][19]。
- **用`iloc`的场景**：需严格按数据位置选取（如无序数据集）[8][16]，或仅需整数索引时 [11]。

> 示例对比：
> 若DataFrame索引为`["A","B","C"]`：
> - `loc["A"]` → 返回标签A的行 [5][8]
> - `iloc[0]` → 返回第一行（无论其标签是否叫"A"）[5][16]

通过合理选择索引方法，可更高效操作